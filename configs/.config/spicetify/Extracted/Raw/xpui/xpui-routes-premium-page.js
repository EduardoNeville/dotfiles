"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4868],{81592:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ee});var i=t(59496),s=t(91929),r=t(68530),n=t(3802),l=t(96170),c=t(56162),o=t(49170),d=t(37433),h=t(93107);const m="f5vy3em7itFZHcN1c5th",f="OR_t_SZVUS3Y_45yOmwn",p="vuCT4MFMmKdF5nxhZc7T",x="AHUVWX0zIaijh6s_qErs",u="N7M8xoW29qf92UJIW43C";var j=t(4637);const b=({data:e})=>{const{spec:a}=(0,l.fU)(r.r,{data:{identifier:"benefitsEducation",reason:e.userEligibility}}),t=(0,i.useMemo)((()=>a.educationListContainerFactory()),[a]),s=(0,l.Wi)(t);return(0,j.jsx)("div",{className:m,ref:s,children:(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(c.D,{as:"h2",size:24,variant:"canon",color:"var(--spice-text)",semanticColor:"textBase",children:e.header}),(0,j.jsx)("div",{className:p,children:(0,j.jsx)(o.d,{as:"ul",listStyleReset:!1,className:x,"aria-label":"premium-benefits",children:e.benefits.map(((e,a)=>(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(d.N,{}),(0,j.jsx)(h.n,{className:u,color:"var(--spice-text)",condensed:!0,style:{marginLeft:"4px"},children:e},a)]},a)))})})]})})};var g=t(84875),v=t.n(g),N=t(67353),y=t(5153);const T="POL2MEn4kYvvhOfLsg0r",I="tGegSRxI7iLscjOezFfw",w="cVkF9UmUxF_89Q1pcUFS",_="RUQ0KeNlKc47sIZUr2ED",S="dLo0jrUD6hWn4kzbBOFm",C="oNgy3yKSOHI7KTpQJ1xJ",k="vTyWYlhrqCiKKKiGcTo8",D="WNzIvGMAnUhnZVlXsJJW",U="FGbrgB0DUj2wsUM9ACxp",E="ShjUoZcnXBRAwzptB42a",L="NRAlsO_QA8qpg_K2hswA",M="eCiEDXVKutfSeGT8XqGT",F="ZH4_Li3IiGysnYCQtQdW",R="wUrmLCaGCvSO51jcjHhe",B="u7oKAIw5c11Ss7QxopQx",W="PREMIUM_TIER",z=({tiers:e,benefitLabel:a})=>(0,j.jsx)("thead",{className:k,children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:v()(E,L),children:a}),e.map(((e,a)=>(0,j.jsx)("th",{className:E,children:(0,j.jsx)("div",{className:v()(_,e.id===W?C:S),dangerouslySetInnerHTML:{__html:e.name}})},a)))]})}),Q=({benefit:e,index:a,tierBenefit:t})=>{const[s,r]=(0,i.useState)(!1);return(0,j.jsxs)("tr",{className:D,style:{"--animationDelay":100*a+"ms"},onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1),onFocus:()=>r(!0),onBlur:()=>r(!1),children:[(0,j.jsxs)("td",{className:v()(M),children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsx)("div",{className:v()(B,{[I]:s}),children:s&&(0,j.jsx)(N.u,{colorSet:"invertedLight",dangerouslySetInnerHTML:{__html:e?.explanation}})})]}),t.map((e=>(0,j.jsx)("td",{className:F,children:(0,j.jsx)("div",{className:v()(R,{[U]:e.id===W}),children:e.isBenefitPresent?(0,j.jsx)(y.K,{className:w,iconSize:32}):"-"})},e.id)))]})},A=({tableData:e,spec:a})=>{const{ref:t,inView:r}=(0,s.YD)(),n=(0,i.useCallback)((a=>e.comparison.find((e=>e.benefitId===a))),[e.comparison]),c=(0,i.useMemo)((()=>a?.comparisonTableFactory()),[a]),o=(0,l.Wi)(c);return(0,j.jsx)("div",{className:v()(T,{[I]:r}),ref:t,children:(0,j.jsxs)("table",{ref:o,children:[(0,j.jsx)(z,{tiers:e.tier,benefitLabel:e.benefitLabelText}),(0,j.jsx)("tbody",{children:e.benefit.map(((e,a)=>{const t=n(e.benefitId);return t?(0,j.jsx)(Q,{index:a,benefit:e,tierBenefit:t.tierBenefit},e.name):null}))})]})})};var P=t(79475),Y=t(94285),O=t(63082),V=t(66490);const $=(e,a)=>{const t=new URL(e);return t.searchParams.set("ref",a),t.toString()},H=e=>$(e,"desktop_app_native_pdp"),K="akdMqUKXxdAp0FCJzDCT",q="mLrfUuFeF2k3BIxJimkY",G="RpNlq57TSskxD3Ra6Yfg",J="AzZBnbf197O9XdTTmoi3",Z="_vt32jjXyqbFifhAeVbS",X="YQQwMcVNQIqsmNu0DgMW",ee="dpOre1_sqBw8b5hkncRz",ae=({data:e,refToStorefront:a})=>{const t=H(e.cta[0].link),{spec:s,logger:n}=(0,l.fU)(r.r,{data:{identifier:"hero",reason:`${e.campaignId}:${e.offerTypeId}`}}),o=(0,i.useMemo)((()=>s.heroContainerFactory({identifier:"hero",reason:`${e.campaignId}:${e.offerTypeId}`})),[s,e.campaignId,e.offerTypeId]),d=(0,l.Wi)(o),{openURLWithSessionTransfer:h}=(0,V.e)(),m=(0,i.useCallback)((a=>{h(t,"_blank"),a.preventDefault(),n.logInteraction(o.heroCheckoutButtonFactory({reason:`${e.campaignId}:${e.offerTypeId}`}).hitNavigateToExternalUri({destination:t}))}),[o,n,h,e.campaignId,e.offerTypeId,t]),f=(0,i.useCallback)((e=>{a?.current&&a?.current.scrollIntoView({behavior:"smooth",block:"start"}),e.preventDefault(),n.logInteraction(o.heroViewPlansButtonFactory().hitQuickScroll())}),[o,n,a]);return(0,j.jsxs)("div",{className:K,ref:d,children:[(0,j.jsx)("div",{className:q,children:(0,j.jsx)(c.D,{as:"p",color:"var(--spice-text)",semanticColor:"textBase",dangerouslySetInnerHTML:{__html:e.tagline}})}),(0,j.jsx)("div",{className:G,children:(0,j.jsxs)("div",{className:J,"data-testid":"premium-hero",children:[(0,j.jsx)(c.D,{as:"h1",variant:"altoBrio",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"48px"},children:e.header}),(0,j.jsx)(c.D,{as:"p",variant:"finale",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"18px"},children:e.subheader}),(0,j.jsxs)("div",{className:X,children:[(0,j.jsxs)(P.D,{colorSet:"invertedLight",className:ee,onClick:m,"aria-label":e.cta[0].accessibilityText,children:[e.cta[0].text,(0,j.jsx)(Y.T,{style:{marginLeft:"4px"}})]}),(0,j.jsx)(O.P,{style:{borderColor:"white"},className:ee,onClick:f,"aria-label":e.cta[1].accessibilityText,children:e.cta[1].text})]}),(0,j.jsx)(c.D,{as:"p",variant:"finale",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"12px"},children:(0,j.jsx)("span",{className:Z,dangerouslySetInnerHTML:{__html:e?.legalDisclaimer}})})]})})]})},te="YOUR PLAN <b>SPOTIFY FREE</b>",ie="kvWzzEutUy3QUwNkLAWw",se="vubSV9N3n3DEITzpjM5o",re=({data:e})=>(0,j.jsx)("div",{className:ie,children:(0,j.jsxs)("div",{className:se,children:[(0,j.jsx)(c.D,{as:"h1",variant:"alto",color:"var(--spice-text)",semanticColor:"textBase",children:e.headline}),(0,j.jsx)(c.D,{as:"p",variant:"finale",color:"var(--spice-text)",size:18,semanticColor:"textBase",style:{fontSize:"18px"},children:e.text})]})});var ne=t(58706),le=t(3254);const ce="y3ViSrLgazMO2TJM_RRP",oe="iwnDAWn4XCD3paXyyG3w",de="lEWa4uiYRfyznoBF7fw4",he="thJLqvkbCD4zGMAFZfv5",me="ilZ6KPPc158pStt57eRw",fe="cZiltr0t3M3NuH87VTBb",pe="sF9VpdCb5DPX5wa_NkG8",xe="O3TPI7qQQWvSvj__anxQ",ue="ygV3ht3A2_OY7RFbsJof",je="o5J9jdR1W3KSHeLWkWdu",be="CeQ2AnwGQeUIsFqZNhdn",ge={premium:ne.$_Y.rose180,premiumDuo:ne.$_Y.brownYellow172,premiumFamily:ne.$_Y.blueDesat155,premiumMini:ne.$_Y.citric186,premiumStudent:ne.$_Y.violetDesat155},ve=({text:e})=>(0,j.jsx)("div",{className:de,children:e}),Ne=({benefits:e})=>(0,j.jsx)("ul",{className:ue,children:e.map((e=>(0,j.jsx)("li",{children:e},e)))}),ye=({planName:e,priceText:a,duration:t})=>(0,j.jsxs)("div",{className:he,children:[(0,j.jsx)(c.D,{as:"h3",variant:"mestoBold",className:me,children:e}),(0,j.jsxs)("div",{className:fe,children:[(0,j.jsx)(c.D,{as:"div",variant:"mestoBold",className:pe,children:a}),(0,j.jsx)("div",{className:xe,children:t})]})]}),Te=({children:e,data:a,cardIndex:t,spec:s})=>{const r=(0,l.$P)(),n=(c=a.encoreColorSetName,ge[c]||ge.premium);var c;const o=H(a.checkoutUrl),{openURLWithSessionTransfer:d}=(0,V.e)(),h=s?.planCardFactory({identifier:a.planId,reason:`${a.offerTypeId}`,position:t}),m=(0,l.Wi)(h),f=(0,i.useCallback)((()=>{h&&r.logInteraction(h.planCardButtonFactory({position:0}).hitNavigateToExternalUri({destination:o})),d(o)}),[d,r,o,h]);return(0,j.jsxs)("div",{ref:m,style:{"--theme-color":n},className:oe,children:[a.description&&(0,j.jsx)(ve,{text:a.description}),(0,j.jsx)(ye,{planName:a.planName,priceText:a.priceText,duration:a.durationText}),(0,j.jsx)(Ne,{benefits:a.benefit}),(0,j.jsx)(P.D,{onClick:f,fullWidth:!0,UNSAFE_colorSet:(0,le.Ev)(n),className:je,"aria-label":a.checkoutAccessibilityText,children:a.checkoutUrlText}),e]})},Ie=(0,i.forwardRef)((({text:e},a)=>(0,j.jsx)("div",{ref:a,className:be,dangerouslySetInnerHTML:{__html:e}}))),we=(0,i.forwardRef)((({data:e,spec:a},t)=>{const s=(0,i.useMemo)((()=>a?.storefrontContainerFactory({identifier:"Storefront"})),[a]),r=(0,l.Wi)(s),n=(0,i.useRef)([]),c=e=>a=>{n.current[e]=a};return(0,i.useEffect)((()=>{(()=>{let e=0;n.current.forEach((a=>{a&&a.offsetHeight>e&&(e=a.offsetHeight)})),n.current.forEach((a=>{a&&(a.style.height=`${e}px`)}))})()}),[e?.planCard]),(0,j.jsx)("div",{ref:r,children:(0,j.jsx)("div",{className:ce,ref:t,children:e?.planCard?.map(((e,a)=>(0,j.jsx)(Te,{data:e,cardIndex:a,spec:s,children:(0,j.jsx)(Ie,{ref:c(a),text:e.legalDisclaimer})},e.planId)))})})}));var _e=t(33209),Se=t(9102),Ce=t(25899);const ke=`${t(27555).pd}/premium-marketing`,De=()=>{const{data:e,isLoading:a,isError:t}=(0,Se.useQuery)(["premium-page"],(async()=>(await(async()=>{const e=Ce.b.getInstance();return(await e.build().withHost(ke).withMethod("GET").withoutMarket().withPath("/marketingPage").withQueryParameters({locale:"en-US"}).withJsonContentType().withEndpointIdentifier("/marketingPage").send()).body})()).marketingPage),{cacheTime:18e5,staleTime:6e5});return{data:e??null,loading:a,error:t}},Ue="sLpDWrR7vJhfTSMmieRI",Ee=()=>{const{loading:e,data:a}=De(),t=(0,i.useRef)(null);let c="premium_page:native_pdp";c="premium_page:desktop_app_native_pdp";const{spec:o,logger:d}=(0,l.fU)(r.r,{data:{identifier:c,reason:`${a?.campaignId}:${a?.userEligibility}`}}),{ref:h,inView:m}=(0,s.YD)({fallbackInView:!0,triggerOnce:!0});return(0,i.useEffect)((()=>{m&&d.logImpression(o.impression())}),[m,d,o]),!e&&a?(0,j.jsxs)("div",{ref:h,className:Ue,children:[(0,j.jsx)(ae,{data:{tagline:te,campaignId:a.campaignId,...a.hero},refToStorefront:t}),(0,j.jsx)(re,{data:{headline:a.benefitEducation.header,text:a.benefitEducation.subheader}}),(0,j.jsx)(b,{data:{header:a.benefitEducation.benefitListHeader,benefits:a.benefitEducation.benefit,userEligibility:a.userEligibility}}),(0,j.jsx)(we,{data:a.storefront,ref:t,spec:o}),(0,j.jsx)(re,{data:{headline:a.comparisonTable.header,text:a.comparisonTable.subheader}}),(0,j.jsx)(A,{tableData:a.comparisonTable,spec:o})]}):(0,j.jsx)(_e.h,{hasError:!1,errorMessage:n.ag.get("error.not_found.title.page")})}}}]);
//# sourceMappingURL=xpui-routes-premium-page.js.map