"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5320],{46657:(e,n,s)=>{s.d(n,{DebugWindowContents:()=>Un});var t=s(59496),l=s(36028),a=s(32333),i=s(14722),r=s(98252),o=s(73229),c=s(47047),d=s(10427);const u=(0,c.v)();window.abba={get:async function(e,n){const s=new o.ProductStateClient((0,d.G)()),t=(await s.getValues(o.GetValuesRequest.fromPartial({}))).pairs;let l={},a="";if(t.abbaOverrides?a=t.abbaOverrides:t.abbaoverrides&&(a=t.abbaoverrides),a)try{l=JSON.parse(a)}catch(e){console.error(`error parsing value=${a}, error=${e}`)}if(Object.prototype.hasOwnProperty.call(l,e))return console.warn(`Abba: Override for ${e} : ${l[e]}`),void setTimeout((()=>n(null,l[e])),0);u.post("sp://abba/v1/flags",{flags:[e]}).then((s=>{const{flags:t=[]}=s,l=t[0]&&t[0].featureName===e&&t[0].cell;n(null,l||null)})).catch((e=>{n(e)}))},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),u.get("sp://abba/v1/all_flags").then((n=>{const{flags:s=[]}=n,t=s.reduce(((e,n)=>(e[n.featureName]=n.cell,e)),{});e(null,JSON.stringify(t,null,2))})).catch((n=>{e(n)}))},getRequestedFlagNames:function(e){u.get("sp://abba/v1/requested_flag_names").then((n=>{e(null,JSON.stringify(n.sort(),null,2))})).catch((n=>{e(n)}))}};var h=s(50538);const x="rh7v8PDNC0ke2OkkyRhk",j="L6pjHHt_x4tfksfQ4Pem",m="H0jIvFjLqNoS1jwvMR82",v="UZcGKrwobJ2tS5Ka06pD";var p=s(4637);const g=()=>{const[e,n]=(0,t.useState)(60),[s,l]=(0,t.useState)("stream"),[a,i]=(0,t.useState)("");return(0,p.jsxs)("div",{className:x,children:[(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("p",{children:"Stream time (in seconds)"}),(0,p.jsx)("input",{className:m,type:"text",value:e,onChange:e=>{const s=e.target.value;n(parseInt(s,10))}}),(0,p.jsx)("button",{className:v,onClick:()=>{h.N.increaseStreamTime(e)},children:"Add time"}),(0,p.jsx)("button",{className:v,onClick:()=>{h.N.increaseStreamTime(1200)},children:"Add 20 minutes"})]}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("p",{children:"Override Country"}),(0,p.jsxs)("select",{value:a,onBlur:()=>{},onChange:e=>{i(e.target.value)},children:[(0,p.jsx)("option",{value:"US",children:"USA"}),(0,p.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,p.jsx)("option",{value:"JP",children:"Japan"}),(0,p.jsx)("option",{value:"BR",children:"Brasil"}),(0,p.jsx)("option",{value:"AU",children:"Australia"}),(0,p.jsx)("option",{value:"SE",children:"Sweden"}),(0,p.jsx)("option",{value:"",children:"Clear Override"})]}),(0,p.jsx)("button",{className:v,onClick:()=>{h.N.overrideCountry(a)},children:"Override"})]}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("p",{children:"Clear ad in slot"}),(0,p.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{l(e.target.value)},children:[(0,p.jsx)("option",{value:"stream",children:"STREAM"}),(0,p.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,p.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,p.jsx)("option",{value:"hpto",children:"HPTO"}),(0,p.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,p.jsx)("button",{className:v,onClick:()=>{h.N.clearSlot(s)},children:"Clear slot"}),(0,p.jsx)("p",{children:"Trigger ad in slot"}),(0,p.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{l(e.target.value)},children:[(0,p.jsx)("option",{value:"stream",children:"STREAM"}),(0,p.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,p.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,p.jsx)("option",{value:"hpto",children:"HPTO"}),(0,p.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,p.jsx)("button",{className:v,onClick:()=>{h.N.triggerSlot(s)},children:"Trigger slot"})]}),(0,p.jsx)("button",{className:v,onClick:()=>{h.N.queueVideoAd()},children:"Queue Video Ad"})]})};var f=s(61740),b=s(79475),y=s(65943),N=s(31070);const S="scaF2wOGtuiU5UBKJrGa",O="PjVBb0nlrIUasTrrFgCx",C="MjtdwpkzFFhhmzeyzOy2",w="uVClWczmJLRR5jfAENGP",A=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],k=()=>{const e=(0,f.I0)(),n=(0,f.v9)((e=>e.inAppMessaging.env)),s=(0,f.v9)((e=>e.inAppMessaging.message)),[l,a]=(0,t.useState)(""),[i,r]=(0,t.useState)(""),[o,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{s&&o&&c(!1)}),[s,o]);const d=!s&&o;return(0,p.jsx)("div",{className:S,children:(0,p.jsxs)("div",{className:O,children:[(0,p.jsx)("div",{children:(0,p.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,p.jsx)(y.v,{dir:"auto",value:n,id:"desktop.settings.inAppMessagingEnv",onSelect:function(n){"prod"!==n&&"dev"!==n||e((0,N.q1)(n))},children:A.map((({label:e,value:n})=>(0,p.jsx)("option",{value:n,children:e},n)))}),(0,p.jsx)("div",{children:(0,p.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{className:C,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:l,onChange:function(e){a(e.target.value),c(!1)}})}),(0,p.jsx)("div",{children:(0,p.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{className:C,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:i,onChange:function(e){r(e.target.value),c(!1)}})}),(0,p.jsx)("div",{}),(0,p.jsx)("div",{}),(0,p.jsx)("div",{children:(0,p.jsx)(b.D,{colorSet:"invertedLight",onClick:function(n){n.preventDefault(),e((0,N.XJ)(l,i)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,p.jsx)("div",{className:w,children:"No Messsage found"})]})})};var I=s(95019),R=s(29514),P=s(28418),E=s(28356),T=s(30468),D=s(37230),B=s(76669),L=s(48415),U=s(84334),J=s(30009);const M="mHtMWLOMN_lZh6Eq1lBe",F="Ryr6R2suLwNRYud_tuXs",_="CB4s_xlu5db24RNOdk9e",z="rXwi6WM3vPDuyj9fQLw_",q="rqhyBEi1217s5l9KD42B",V=({name:e,value:n})=>(0,p.jsxs)(E.S,{hover:!0,children:[(0,p.jsx)(T.p,{className:F,highlight:!0,children:e}),(0,p.jsx)(T.p,{className:_,truncate:!0,align:"right",children:n}),(0,p.jsx)(T.p,{className:z,children:(0,p.jsx)("button",{className:q,onClick:()=>{void 0!==n&&(0,J.v)(n)},children:(0,p.jsx)(D.c,{iconSize:16})})})]}),K=()=>{const e=(0,U.p)(),n=e.token?.accessToken??"Not authorized",s=new Date(e.token?.accessTokenExpirationTimestampMs??0);return(0,p.jsx)("div",{className:M,children:(0,p.jsx)(B.x,{children:(0,p.jsxs)(L.i,{children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"30%"}),(0,p.jsx)("col",{}),(0,p.jsx)("col",{width:"16px"})]}),(0,p.jsxs)("tbody",{children:[(0,p.jsx)(V,{name:"Token",value:n}),(0,p.jsx)(V,{name:"Expires At",value:s.toLocaleString()}),(0,p.jsx)(V,{name:"Retry Attempt",value:e.retryAttempt?.toString()??"N/A"}),(0,p.jsx)(V,{name:"Retry At",value:e.retryAt?.toLocaleString()??"N/A"})]})]})})})};var W=s(83682);const $="WT_NZ6JEU_dK03UPUjQm",H="qiIwEYs34R1jRXwb_sZ8",G="x_Ve8I65cAL4jZHbutKP",Q="y_1aE6JElOnrFrvmgpUO",Y="rOqbwjYwx0AIWTfoYOQe",Z="w0xpmm3i0WhHooXZt9xC",X=({name:e,value:n})=>(0,p.jsxs)(E.S,{hover:!0,children:[(0,p.jsx)(T.p,{className:H,highlight:!0,children:e}),(0,p.jsx)(T.p,{className:G,truncate:!0,align:"right",children:n}),(0,p.jsx)(T.p,{className:Q,children:(0,p.jsx)("button",{className:Y,onClick:()=>{void 0!==n&&(0,J.v)(n)},children:(0,p.jsx)(D.c,{iconSize:16})})})]}),ee=({device:e})=>(0,p.jsxs)(B.x,{children:[(0,p.jsx)("h3",{className:Z,children:e.name}),(0,p.jsxs)(L.i,{children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"30%"}),(0,p.jsx)("col",{}),(0,p.jsx)("col",{width:"16px"})]}),(0,p.jsxs)("tbody",{children:[(0,p.jsx)(X,{name:"Device",value:e?.name}),(0,p.jsx)(X,{name:"Identifier",value:e.id}),(0,p.jsx)(X,{name:"Type",value:e.type}),(0,p.jsx)(X,{name:"Group",value:e.isGroup.toString()}),(0,p.jsx)(X,{name:"Local",value:e.isLocal.toString()}),(0,p.jsx)(X,{name:"Active",value:e.isActive.toString()}),(0,p.jsx)(X,{name:"Connecting",value:e.isConnecting.toString()}),(0,p.jsx)(X,{name:"Disabled",value:e.isDisabled.toString()}),(0,p.jsx)(X,{name:"Volume",value:e.volume.toString()}),(0,p.jsx)(X,{name:"HiFi",value:e.hifiSupport.deviceSupported.toString()})]})]})]}),ne=()=>{const e=(0,W.O)(),n=e.devices;return(0,p.jsxs)("div",{className:$,children:[(0,p.jsx)(B.x,{children:(0,p.jsxs)(L.i,{children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"30%"}),(0,p.jsx)("col",{}),(0,p.jsx)("col",{width:"16px"})]}),(0,p.jsx)("tbody",{children:(0,p.jsx)(X,{name:"Status",value:e.connectionStatus})})]})}),n.map((e=>(0,p.jsx)(ee,{device:e},e.id)))]})};var se=s(66494),te=s(49264),le=s(13889),ae=s(10260),ie=s(67188),re=s(52249),oe=s(88225),ce=s(74583),de=s(95758),ue=s(31715),he=s(96154),xe=s(79221),je=s(60259),me=s(95375),ve=s(56162),pe=s(71500),ge=s(63082),fe=s(98718),be=s(44079),ye=s(33782),Ne=s(85989);const Se="gbcTqus4yhTHlzm2IETQ",Oe="QoWcMe7qZMDKemQfS8Qu",Ce="ZeUVhdgF8ZRjvUCTdmLr",we="mJkwncrS8jYg4iIg1f7y";const Ae=[le.nW,se.Ul,te.M$,ae.gw,re._X,ce.No,de.PodcastPaywallsClient,ue.PrefsClient,xe.ShowServiceClient,je.KQ,ye.R3,Ne.Dx,he.HB,oe.BK,o.ProductStateClient,me.Pn,ie.ListenLaterServiceClient,be.ev],ke="debug-esperanto-requests";const Ie=()=>{const[e]=(0,t.useState)((()=>{const e=(0,d.G)();return Ae.reduce(((n,s)=>(n[s.SERVICE_ID]={calls:s.DECODERS,client:new s(e)},n)),{})})),n=Object.keys(e),[s,l]=(0,t.useState)(n[0]),a=e[s].calls,i=Object.keys(a),[r,o]=(0,t.useState)(i[0]),[c,u]=(0,t.useState)(null),[h,x]=(0,t.useState)(""),[j,m]=(0,t.useState)(""),v=(0,R.um)(),g=(0,t.useCallback)(((n,s)=>{const t=n??Object.keys(e)[0],a=e[t].calls,i=s??Object.keys(a)[0];l(t),o(i);const r=function(e,n,s){const t=e.getItem(ke);if("string"!=typeof t)return null;const l=JSON.parse(t);return l[n]?.[s]??null}(v,t,i);x(null!==r?r:JSON.stringify(a[i].request(new Uint8Array),((e,n)=>void 0===n?null:n),2))}),[v,e]);return(0,t.useEffect)((()=>{g()}),[g]),(0,t.useEffect)((()=>{!function(e,n,s,t){const l=e.getItem(ke),a="string"==typeof l?JSON.parse(l):{};Object.hasOwn(a,n)||(a[n]={}),a[n][s]=t,e.setItem(ke,JSON.stringify(a))}(v,s,r,h)}),[v,s,r,h]),(0,p.jsxs)("div",{className:Se,children:[(0,p.jsxs)("div",{className:Oe,children:[(0,p.jsx)(ve.D,{as:"p",variant:"ballad",children:"Endpoint"}),(0,p.jsx)(pe.i,{id:"service-dropdown",value:s,onChange:e=>{g(e.currentTarget.value)},children:n.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))}),(0,p.jsx)(pe.i,{id:"call-dropdown",value:r,onChange:e=>{g(s,e.currentTarget.value)},children:i.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))})]}),(0,p.jsxs)("div",{className:Ce,children:[(0,p.jsx)(ve.D,{as:"p",variant:"ballad",children:"Request"}),(0,p.jsx)(ge.P,{buttonSize:"sm",onClick:()=>{try{const e=JSON.parse(h,((e,n)=>null===n?void 0:n)),n=JSON.stringify(e,((e,n)=>void 0===n?null:n),2);x(`${n}\n`)}catch(e){}},children:"Prettify"}),(0,p.jsx)(ge.P,{buttonSize:"sm",onClick:async()=>{if(c)return c.cancel(),void u(null);const n=e[s].client;var t;const l=n[(t=r).charAt(0).toLowerCase()+t.slice(1)];if(1===l.length){const e=await l.call(n,JSON.parse(h,((e,n)=>null===n?void 0:n)));m(JSON.stringify(e,void 0,2))}else 2===l.length&&u(l.call(n,JSON.parse(h,((e,n)=>null===n?void 0:n)),(e=>{m(JSON.stringify(e,void 0,2))})))},children:null!==c?"Cancel":"Send"}),(0,p.jsx)(fe.B,{value:h,onChange:e=>{x(e.currentTarget.value)}})]}),(0,p.jsxs)("div",{className:we,children:[(0,p.jsx)(ve.D,{as:"p",variant:"ballad",children:"Response"}),(0,p.jsx)(fe.B,{value:j,readOnly:!0})]})]})};var Re=s(58706),Pe=s(31538),Ee=s(3442);var Te=s(74824),De=s(90773);var Be=s(37409),Le=s(99948),Ue=s(27509),Je=s(39215);const Me="bFE0oGWgZ40KJHjcBj12",Fe="nAeIvCNG4jVwkKxAEqwm",_e="KG4I4Zh3DDzaN0XwzddI",ze="tiUNZpj0HxFf5EOWSiCA",qe="eymcN9Ndbrbe5jR7URP_",Ve="nzbIAA5MqUSD0hIKUuHg",Ke="hksYFxAm48XqAEbpcukQ",We="UnO1u4VJB0B6pTtqWh1n",$e="xlSWVFMQmYmRK34yiPOA",He="oKgZ0g8at59jN8nf8Bee",Ge="Nodut0kqaRIc93iGqbbP",Qe="dUIum8rPR6Msq9wot5ky",Ye="QHO5pYBkfWBn6qyAh9dp";const Ze=({size:e,ranges:n})=>{if(0===n.length)return(0,p.jsx)("div",{className:Ke,children:(0,p.jsx)("div",{className:We})});const s=`linear-gradient(90deg, ${n.map((n=>{const s=100*n.fromByte/e,t=100*n.toByte/e;return`transparent ${s}%, ${Re.$_Y.azure135} ${s}%, ${Re.$_Y.azure135} ${t}%, transparent ${t}%`})).join(", ")})`;return(0,p.jsx)("div",{className:Ke,children:(0,p.jsx)("div",{className:We,style:{background:s}})})},Xe=({item:e,file:n})=>{const s=(0,Be.g)(),t=(function(e){let n,s,t=0;if(0===e.length)return t;for(n=0;n<e.length;n++)s=e.charCodeAt(n),t=(t<<5)-t+s,t|=0;return t}(`${n.format}${n.bitrate}`)+180)%360;return(0,p.jsxs)(E.S,{hover:!0,children:[(0,p.jsx)(T.p,{className:Fe,highlight:!0,children:(0,p.jsxs)("div",{className:$e,style:{background:`linear-gradient(180deg, hsl(${t}, 60%, 30%), hsl(${t}, 40%, 70%))`},children:[(0,p.jsx)("span",{className:He,children:n.format}),(0,p.jsx)("span",{className:Ge,children:en(n.bitrate,1e3,"k")})]})}),(0,p.jsx)(T.p,{className:_e,truncate:!0,children:(0,p.jsxs)("div",{className:Ve,children:[n.fileId,(0,p.jsx)(Ze,{size:n.byteSize,ranges:n.byteRanges})]})}),(0,p.jsxs)(T.p,{className:ze,children:[(0,p.jsx)("button",{className:qe,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:n.fileId,bitrate:n.bitrate,format:n.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,p.jsx)(Pe.J,{iconSize:16})}),(0,p.jsx)("button",{className:qe,onClick:()=>{(0,J.v)(n.fileId)},children:(0,p.jsx)(D.c,{iconSize:16})})]})]})};function en(e=undefined,n=1,s=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(e/n).toLocaleString("en",{maximumFractionDigits:10})}${s}`}function nn(e=undefined){return!0===e?"Yes":"No"}function sn(e=undefined){if(void 0!==e)return(0,Ue.m)(parseInt(e,10))}const tn=({name:e,value:n})=>(0,p.jsxs)(E.S,{hover:!0,children:[(0,p.jsx)(T.p,{className:Fe,highlight:!0,children:e}),(0,p.jsx)(T.p,{className:_e,truncate:!0,align:"right",children:n}),(0,p.jsx)(T.p,{className:ze,children:(0,p.jsx)("button",{className:qe,onClick:()=>{void 0!==n&&(0,J.v)(n)},children:(0,p.jsx)(D.c,{iconSize:16})})})]}),ln=()=>{const e=(0,Le.Y)((e=>e?.item??null)),n=function(){const[e,n]=(0,t.useState)(null),s=(0,Ee.f)();return(0,t.useEffect)((()=>{let e=!0;return s.getPlaybackInfo().then((s=>{e&&n(s)})),()=>{e=!1}}),[s]),(0,De._)(Te.r.INFO,(({data:e})=>{n(e)})),e}(),s=function(e=null,n=null){const[s,l]=(0,t.useState)(null),a=(0,Ee.f)();return(0,t.useEffect)((()=>{let s=!0,t=null;if(null===e)l(null);else{const i=async()=>{const n=await a.getFiles(e);s&&l(n)};i(),null!==n&&(t=window.setInterval(i,n))}return()=>{s=!1,null!==t&&window.clearInterval(t)}}),[a,e,n]),s}(e?.uri,500),l=(0,Be.g)();return null===e?(0,p.jsx)("div",{className:Me,children:"Nothing is currently playing."}):(0,p.jsxs)("div",{className:Me,children:[(0,p.jsxs)("div",{className:Qe,children:[(0,p.jsx)(ve.D,{variant:"violaBold",children:"Forced shuffle"}),(0,p.jsx)(Je.Z,{id:"forced-shuffe",value:l.getForcedShuffle(),onSelected:e=>{l.setForcedShuffle(e)}})]}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{className:Ye,onClick:()=>{l.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,p.jsx)("span",{children:"Clear context"})})}),(0,p.jsx)(B.x,{children:(0,p.jsxs)(L.i,{children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"30%"}),(0,p.jsx)("col",{}),(0,p.jsx)("col",{width:"16px"})]}),(0,p.jsxs)("tbody",{children:[(0,p.jsx)(tn,{name:"url"===n?.fileType?"URL":"File ID",value:n?.fileId}),(0,p.jsx)(tn,{name:"Type",value:n?.fileType}),(0,p.jsx)(tn,{name:"url"===n?.fileType?"URL":"File ID",value:n?.fileId}),(0,p.jsx)(tn,{name:"Codec",value:n?.codecName}),(0,p.jsx)(tn,{name:"Bitrate",value:en(n?.fileBitrate,1e3,"k")}),(0,p.jsx)(tn,{name:"Strategy",value:n?.strategy}),(0,p.jsx)(tn,{name:"Target Bitrate",value:en(n?.targetBitrate,1e3,"k")}),(0,p.jsx)(tn,{name:"Advisted Bitrate",value:en(n?.advisedBitrate,1e3,"k")}),(0,p.jsx)(tn,{name:"Target File Available",value:nn(n?.targetFileAvailable)}),(0,p.jsx)(tn,{name:"Duration (hh:mm)",value:sn(n?.lengthMs)}),(0,p.jsx)(tn,{name:"Duration (ms)",value:en(n?.lengthMs,1," ms")}),(0,p.jsx)(tn,{name:"Speed",value:en(n?.playbackSpeed)}),(0,p.jsx)(tn,{name:"Gain Adjustment",value:en(n?.gainAdjustment)}),(0,p.jsx)(tn,{name:"Loudness",value:n?.hasLoudness?en(n?.loudness):void 0})]})]})}),(0,p.jsx)(B.x,{children:(0,p.jsxs)(L.i,{children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"72px"}),(0,p.jsx)("col",{}),(0,p.jsx)("col",{width:"32px"})]}),(0,p.jsx)("tbody",{children:s?.map((n=>(0,p.jsx)(Xe,{item:e,file:n},n.fileId)))})]})})]})};var an=s(84875),rn=s.n(an),on=s(85830),cn=s(18569),dn=s(36098),un=s(16320),hn=s(17761),xn=s(95012),jn=s(50954),mn=s(94254),vn=s(15408),pn=s(66806);const gn="HnpguQ3rtX44hdThdwy9",fn="oJJkROlUPmT5lEqzx1cZ",bn="dQkRirl4qynBunRI_kR2",yn="RqhApI3LSHoimdyl53SQ",Nn="y1gsL5scUuLOArVrFYRl",Sn="Ni7focuLC626smvmOnLP",On="W5wjtyjHTJPGX5j7_WOp",Cn=({property:e,value:n,onOverride:s,isOverridden:t})=>{if("int"===e.type||"internal"===e.type)throw Error("Invalid property type for dropdown!");const l="bool"===e.type?["true","false"]:e.values;return(0,p.jsx)(pe.i,{id:`${e.name}-dropdown`,value:(n??e.default).toString(),onChange:n=>{var t;s(e.name,(t=n.currentTarget.value,"bool"===e.type?"true"===t:t))},className:rn()({[On]:t}),children:l.map((e=>(0,p.jsx)("option",{value:e,children:e},e)))})},wn=({property:e,value:n,onOverride:s,isOverridden:l})=>{if("int"!==e.type)throw Error("Invalid property type for dropdown!");const[a,i]=(0,t.useState)(n??e.default),r=(0,on.y1)((n=>{s(e.name,n)}),500);return(0,p.jsx)(cn.y,{type:"number",min:e.lower,max:e.upper,value:a,onChange:e=>{i(e.currentTarget.value),r(Number.parseInt(e.currentTarget.value,10))},className:rn()({[On]:l})})},An=({property:e,localValue:n,remoteValue:s,onOverride:t,filter:l})=>{const a=n!==s;return(0,p.jsxs)(E.S,{hover:!0,children:[(0,p.jsx)(T.p,{className:bn,title:e.name,highlight:!0,children:l?(0,p.jsx)(vn.o,{searchWords:[l??""],textToHighlight:e.name}):e.name}),(0,p.jsx)(T.p,{className:yn,children:e.default.toString()}),(0,p.jsx)(T.p,{className:yn,children:s?.toString()??null}),(0,p.jsx)(T.p,{className:yn,children:"bool"===e.type||"enum"===e.type?(0,p.jsx)(Cn,{property:e,value:n,onOverride:t,isOverridden:a}):"int"===e.type?(0,p.jsx)(wn,{property:e,value:n,onOverride:t,isOverridden:a}):null})]})},kn="debugPanelRemoteConfigLastChangedAtByPropertyName",In=({properties:e,localConfiguration:n,remoteConfiguration:s,setOverrides:l,clearOverrides:a})=>{const{filter:i}=(0,t.useContext)(pn.fo),r=(0,R.um)(),o=()=>{const e=r.getItem(kn);return e instanceof xn.d||e instanceof jn.y?{}:e},c=(e,n)=>{l(un.VK.fromJSON({[e]:n})),r.setItem(kn,{...o(),[e]:Date.now()})},d=(0,t.useRef)(o()),u=e.sort(((e,n)=>(d.current[n.name]??0)-(d.current[e.name]??0)||e.name.localeCompare(n.name)));return(0,p.jsxs)("div",{className:Nn,children:[(0,p.jsxs)("div",{className:Sn,children:[(0,p.jsx)(ge.P,{buttonSize:"sm",onClick:()=>{a(),r.clearItem(kn)},children:"Clear local overrides"}),(0,p.jsx)(mn.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,p.jsx)(B.x,{children:(0,p.jsxs)(L.i,{children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{width:"30%"}),(0,p.jsx)("col",{}),(0,p.jsx)("col",{})]}),(0,p.jsxs)("tbody",{children:[(0,p.jsxs)(E.S,{children:[(0,p.jsx)(dn.x,{className:fn,children:"Name"}),(0,p.jsx)(dn.x,{className:fn,children:"Default"}),(0,p.jsx)(dn.x,{className:fn,children:"Remote"}),(0,p.jsx)(dn.x,{className:fn,children:"Local"})]}),u.filter((e=>-1!==e.name.toLowerCase().indexOf(i.toLowerCase()))).map((e=>(0,p.jsx)(An,{property:e,localValue:n.getValue(e.name),remoteValue:s.getValue(e.name),onOverride:c,filter:i},e.name)))]})]})})]})},Rn=()=>{const e=[...(0,un.y6)()],{localConfiguration:n,remoteConfiguration:s,setOverrides:t,clearOverrides:l}=(0,hn.j)();return(0,p.jsx)("div",{className:gn,children:(0,p.jsx)(pn.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,p.jsx)(In,{properties:e,localConfiguration:n,remoteConfiguration:s,setOverrides:t,clearOverrides:l})})})},Pn="wjncHEmBUc7V8RZYdENw",En="uyHngn_fJez61BsFl3tA",Tn="J2KhtXbDovVMDOMzv1Jy",Dn="h5nLocSUS3w2NB53IdWQ",Bn="debugWindowActiveTabGroup",Ln="debugWindowActiveTabIndex",Un=()=>{const e=(0,Ee.f)().getCapabilities().canGetFiles,n=(0,I.ky)();(0,t.useEffect)((()=>{n&&(n.title="Spotify Debug Window")}),[n]);const s=(0,t.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(P.K),Authorization:[{label:"Access Token",Panel:K}],Playback:[e?{label:"Playback",Panel:ln}:null,{label:"Connect",Panel:ne}].filter(P.K),"Data Fetching":[{label:"Esperanto",Panel:Ie},null].filter(P.K),Other:[{label:"Remote Config",Panel:Rn},{label:"Ads",Panel:g},{label:"In-App Messaging",Panel:k}].filter(P.K)}).filter((([e,n])=>n.length>0)))),[e]),o=Object.keys(s),c=(0,R.um)(),d=c.getItem(Bn),u="string"==typeof d&&d in s?d:o[0],[h,x]=(0,t.useState)(u),j=c.getItem(Ln),m="number"==typeof j&&j in s[h]?j:0,[v,f]=(0,t.useState)(m),b=s[h][v].Panel;return(0,p.jsx)("div",{className:"encore-dark-theme",children:(0,p.jsxs)("div",{className:Pn,children:[(0,p.jsx)(l.W,{className:En,children:(0,p.jsx)(a.b,{flexMobile:!0,children:o.map((e=>(0,p.jsxs)(t.Fragment,{children:[(0,p.jsx)(i.W,{children:e}),s[e].map(((n,s)=>(0,p.jsx)(r._,{active:h===e&&v===s,label:n.label,onClick:()=>{x(e),c.setItem(Bn,e),f(s),c.setItem(Ln,s)},className:Tn,children:n.label},n.label)))]},e)))})}),(0,p.jsx)("div",{className:Dn,children:(0,p.jsx)(b,{})})]})})}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map